---
# Niri Wayland Compositor Role - Default Variables

# Niri and Wayland packages
niri_packages:
  - niri
  - wayland
  - wayland-protocols
  - xorg-xwayland  # X11 compatibility
  - alacritty
  - waybar
  - fuzzel
  - mako
  - swaylock
  - sway-bg
  - swayidle
  - swaync
  - plasma-polkit-agent
  - nautilus
  - xdg-desktop-portal-gtk
  - xdg-desktop-portal-gnome
  - gnome-keyring
  - grim
  - slurp
  - wl-clipboard

# Create default configs
niri_create_default_config: true
niri_create_waybar_config: true
niri_create_fuzzel_config: true
niri_create_mako_config: true

# Niri configuration
niri_keyboard_layout: "fr"
niri_gaps: 8
niri_mod_key: "Mod"  # Super/Windows key

# GDM Display Manager
niri_gdm_enabled: true
niri_gdm_autologin: true
niri_gdm_autologin_user: "{{ ansible_user_id }}"

# Lock screen configuration
niri_swaylock_on_login: true       # Lancer swaylock au démarrage de session (avec auto-login GDM)
niri_swayidle_enabled: true        # Activer swayidle pour le verrouillage automatique
niri_swayidle_idle_timeout: 300    # Verrouiller après 5 minutes d'inactivité
niri_swayidle_screen_off_timeout: 600  # Éteindre l'écran après 10 minutes

# Autostart applications
niri_autostart:
  - waybar
  - mako
  - "sway-bg -i ~/.config/niri/wallpaper.jpg -m fill"
  - swaync
